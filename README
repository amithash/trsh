========================================================================================
                                    TRSH
	 		Copyright 2008 Amithash Prasad                                         

	 Seeker is free software: you can redistribute it and/or modify         
	 it under the terms of the GNU General Public License as published by   
	 the Free Software Foundation, either version 3 of the License, or      
	 (at your option) any later version.                                    
	                                                                        
	 This program is distributed in the hope that it will be useful,        
	 but WITHOUT ANY WARRANTY; without even the implied warranty of         
	 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the          
	 GNU General Public License for more details.                           
	                                                                        
	 You should have received a copy of the GNU General Public License      
	 along with this program.  If not, see <http://www.gnu.org/licenses/>.  

========================================================================================

A safe rm.

I wrote this script when I accidently deleted my homework.

SETUP
--
AUTOMATIC METHOD (Supported shells: bash and korn)

for BASH:

sudo ./setup.pl bash

for C-Shell:
sudo ./setup.pl csh

This sets the following:
trash dir = HOME/.Trash
script copied to /usr/bin/trsh.pl

aliases set for:
rm = trsh.pl
undo = trsh.pl -u

OPTIONAL: setup.pl takes an option -u which will perform a user installation instead.
Then trsh is copied to $HOME/.trsh.pl instead. (Sometimes, you might need this
on machines you do not have root access to)

If you do not like this, or your shell is not supported, 
try the manual method described below

MANUAL METHOD:

1. copy the trsh.pl to where ever you want,
I usually copy it to my home directory and rename it to .trsh.pl
so I do not see it or to my /usr/bin dir which is in the path.

edit your .Xrc file (for bash it is .bashrc, and the examples are for bash)
create an enviornment variable called TRASH_DIR pointing to what you want
to be used as a trash directory.

export TRASH_DIR='~/.Trash'

again, i choose the name of my trash dir to start with a "." therefore I 
do not generally see it on a ls.

then add an alias to stop using the rm command and using this instead.

alias rm='~/.trsh.pl'
alias undo='~/.trsh.pl -u'

TEST
--

First of all, before using trsh, due to the nature of its dependency,
Run tests test-trsh.sh and if any fail, raise a bug and DO NOT USE any further.

I understand that this is under the GNU license, and I am not responsible 
for your data loss, but still, does not mean that I cannot feel bad if
my program ate your system! 


USAGE
--
rm [OPTIONS]... [FILES]...

FILES:
This is a list of files to recover or delete.

OPTIONS:

-u|--undo [FILES]
This option instructs trsh to recover FILES from the trash and place them into the current working directory.
If FILES is not provided, the last deleted file is recovered and placed into the current working directory.

-f|--force
This option instructs trsh to permanently delete FILES and completely bypass the trash

-i|--interactively
This option will instruct trsh to prompt the user before deleting each and every file.

-v|--verbose
This option will instruct trsh to talk about whatever it is doing.

-e|--empty
This empties the trash.

-r|--recursive
This option if provided will allow directories to be deleted.

-l|--list
This will display the contents of the trash.

-s|--size
This displays the size of the Trash directory. 

-h|--help
Displays this help and exits.

rm FILES just moves FILES to the trash. By default, directories are not deleted.

NOTES
--

If multiple files of the same name are deleted, they are stored in the trash as if it were a stack.
Thus any recover will be like popping the files from the trash stack! 

KNOWN ISSUES
--
If a file has exactly 6 consicutive underscores, then bad things will happen! :-)
That is if a file is named: SOMETHING______SOMETHING,. You are better 
off deleting this forcefully! 

